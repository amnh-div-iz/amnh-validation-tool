parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={introIvalidUsername:"Remember to fill in a valid username",longFormNoUserName:"You have to enter your Name before entering data",addPersonNoVerbatim:"You must enter a Verbatim Name before adding a Person",noPlacesFound:"No details about the place you searched for",googleMapsError:"Error Status in Google Maps search: ",noTaxnomoniesFound:"Worms couldn't find that taxonomy, try searching it by hand "},r=function(e){var r=document.createElement("template");return e=e.trim(),r.innerHTML=e,r.content.firstChild},t=exports.showError=function(e,t){var o='<div id="Error" class=\'c-form__error-label '+(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"u-align-center":"")+"' >"+t+"</div>",n=document.getElementById(e);n.insertAdjacentElement("afterend",r(o)),n.classList.add("c-input--error")},o=exports.cleanErrors=function(e,r){var t=document.getElementById(e),o=document.getElementById(r);t&&(t.remove(),o.classList.remove("c-input--error"))};exports.default=e;
},{}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.addStyleString=function(e,t){var n=document.getElementById(e),r=document.createElement("style");r.innerHTML=t,n.appendChild(r)},t=exports.addPlaceHolderBorders=function(t){e(t,"#"+t+" input:placeholder-shown {\n                    border: 3px solid #ffa500 !important;\n                  }")};
},{}],14:[function(require,module,exports) {
"use strict";function e(e){return e.replace(/(\-[A-Za-z])/g,function(e){return e.toUpperCase().replace("-","")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.kebabToCamel=e;var t=exports.validateName=function(e){return 0!==e.replace(/\s+/g,"").length},r=exports.removeStyleNodes=function(e){var t=document.getElementById(e);document.querySelectorAll("#"+e+" style").forEach(function(e){t.removeChild(e)})},o=exports.resetForm=function(e){document.querySelectorAll("#"+e+" input, #"+e+" select").forEach(function(e){e.value=""}),r(e)};
},{}],11:[function(require,module,exports) {
"use strict";var e=require("./errors"),t=n(e),o=require("./css_injector"),a=require("./helpers.js");function n(e){return e&&e.__esModule?e:{default:e}}var l={" ":" ","specific-locale":"Specific Locale",city:"City / Town / Hamlet",county:"County",dept:"Department / State",country:"Country",continent:"Continent"},r={" ":" ",ocean:"Ocean",sea:"Sea / Gulf / Strait",lake:"Lake / Pond / Reservoir",bay:"Bay / Harbor",river:"River / Creek",stream:"Stream","island-group":"Island Group",island:"Island","mtn-range":"Mountain Range",mtn:"Mountain"},c=function(){$("#autopopulate_cancel").click(function(){$("#location_autocomplete_dialog").hide()}),$("#autopopulate_ok").click(function(){for(var e=document.querySelectorAll("#autocomplete_list select"),t=0;t<e.length;t++){var o=e[t].value;" "!=o&&("country"==o?$("#country").val(e[t].dataset.shortName):$("#"+o).val(e[t].dataset.longName))}$("#location_autocomplete_dialog").hide()})},i=function(){$("#location_autocomplete_dialog").removeClass("u-hidden"),$("#location_autocomplete_dialog").hide()},s=function(){var a=new google.maps.Map(document.getElementById("location-map"),{zoom:3,center:{lat:.433014,lng:.752724}}),n=new google.maps.Marker({map:a,anchorPoint:new google.maps.Point(0,-29)}),l=document.getElementById("location-autocomplete"),r=new google.maps.places.SearchBox(l),c=document.getElementById("location-go");function i(e){var l;0!=e.length?(l=e[0],n.setVisible(!1),l.geometry.viewport?a.fitBounds(l.geometry.viewport):(a.setCenter(l.geometry.location),a.setZoom(17)),n.setPosition(l.geometry.location),n.setVisible(!0),u(e[0].geometry.location.lat(),e[0].geometry.location.lng()),"natural_feature"==e[0].types[0]?(0,o.addPlaceHolderBorders)("natural-place-form"):"locality"==e[0].types[0]?(0,o.addPlaceHolderBorders)("address-form"):((0,o.addPlaceHolderBorders)("natural-place-form"),(0,o.addPlaceHolderBorders)("address-form")),m(e[0])):window.alert(t.default.noPlacesFound)}a.addListener("click",function(e){d(),function(e,t){n.setPosition(e),t.panTo(e)}(e.latLng,a),u(e.latLng.lat(),e.latLng.lng())}),r.addListener("places_changed",function(){d(),i(r.getPlaces())}),c.addEventListener("click",function(){d();var o=new google.maps.places.PlacesService(a),n={query:l.value};return(0,e.cleanErrors)("Error","searchLocationContainer"),new Promise(function(){o.textSearch(n,function(o,a){a==google.maps.places.PlacesServiceStatus.OK?i(o):a==google.maps.places.PlacesServiceStatus.ZERO_RESULTS?(0,e.showError)("searchLocationContainer",t.default.noPlacesFound,!1):console.log(t.default.googleMapsError+a)})})})},d=function(){(0,a.resetForm)("address-form"),(0,a.resetForm)("natural-place-form"),(0,a.resetForm)("lat-long-form"),$("#location_autocomplete_dialog").hide()},u=function(e,t){document.getElementById("lat-from").value=e.toFixed(3),document.getElementById("lat-to").value=e.toFixed(3),document.getElementById("lon-to").value=t.toFixed(3),document.getElementById("lon-from").value=t.toFixed(3)},m=function(e){var t=[];if(e.address_components)t=e.address_components;else{var o={long_name:e.name,short_name:e.name,types:e.types};t.push(o)}var a=$("#autocomplete_list");a.empty(),p(a,t),$("#location_autocomplete_dialog").fadeIn(1e3)},p=function(e,t){for(var o=0;o<t.length;o++){var a=t[o],n=a.types[0],c='<fieldset class="c-form__fieldset u-separator-xs">\n      <label class="c-label " for="">'+a.long_name+' is a</label>\n      <select data-long-name="'+a.long_name+'" data-short-name="'+a.short_name+'"\n      placeholder="Select input" class="c-input c-input--square c-input--select "></select>\n    </fieldset>',i=$(c),s="natural_feature"==n?r:l;g(i,s),f(i,s,n),e.append(i)}},g=function(e,t){for(var o=e.find("select:first")[0],a=Object.keys(t),n=0;n<a.length;n++){var l=document.createElement("option");l.value=a[n],l.text=t[a[n]],o.appendChild(l)}},f=function(e,t,o){var a=e.find('[value="'+o+'"]')[0];null!=a&&(a.selected=!0)};i(),c(),s();
},{"./errors":13,"./css_injector":17,"./helpers.js":14}]},{},[11])
//# sourceMappingURL=/location.6578c90f.map